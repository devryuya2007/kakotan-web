# Lexify 英単語アプリ設計メモ（カンタン版）

## 1. まずこれだけ覚えてね
| 項目 | かんたん説明 |
| --- | --- |
| ねらい | 通学中や休み時間にサクッと2000語覚えるアプリ |
| 使う人 | 受験を意識し始めた中学生〜高校生 |
| つくり | React + TypeScript + Tailwind の1ページアプリ |
| データ | JSONファイルから単語を読み込み、結果は自分の端末に保存 |
| オフライン | PWAで電波がなくてもテストと結果が使える |

## 2. 画面イメージ
![スマホ版イメージ](<docs/ChatGPT Image 2025年10月15日 08_26_46.png>)
![PC版イメージ](<docs/ChatGPT Image 2025年10月15日 08_26_57.png>)

金色×黒のクールな雰囲気をベースに、ボタンは大きく、迷わない導線にする。

## 3. いつ使う？
- 電車やバスで10分だけ単語チェック
- 授業のすき間で弱点タグをピンポイント復習
- 家でゆっくり結果グラフを見ながら次の目標を決める

## 4. 学ぶ流れ（ざっくり図）
```
アプリを開く
   │
   ▼
ホームで今日のモードを選ぶ
   │
   ▼
４択クイズを解く → 正解/不正解がすぐ分かる
   │
   ▼
結果画面でスコアと弱点をチェック
   │
   └─► また同じタグで復習 / 他のセクションへGO
```

## 5. できることリスト
- デイリーおすすめ問題と、自分で選ぶタグ＆セクション学習
- 2000語まで登録できる単語データ（JSONを差し替えるだけで更新OK）
- 四択テスト（選択肢はランダム生成、同じ問題が続かない工夫）
- 成績表示：累計スコア・セクション別スコア・単語ごとの正解率
- 学習日数カウンター＆連続学習チェック
- 苦手単語リストを自動作成 → ワンタップで再テスト
- ポイント（のちほどゲーム要素に接続できるようにフックを用意）

## 6. データのたまり方
### 単語データ（JSON）
```
words[
  id, word, meaning, tags[], section, example
]
```
- フェッチは起動時に1回。2000語あっても問題なし。
- 単語の選択肢はアプリ側でシャッフルして生成。

### 端末に保存する内容
```
profile        … 学習日数、最終学習日、ポイント
wordStats      … 単語ごとの 正解/不正解 回数、最後に解いた日
sectionScores  … セクション別の挑戦回数と正解率
favorites      … 苦手単語IDのリスト
settings       … テーマ、アニメーションの強さ など
```
- IndexedDB を基本にしつつ、軽い設定は localStorage にミニコピー。
- バージョン番号を持たせて、あとからデータ形式を変えても安心。

```
    単語JSON (サーバー)
            │  フェッチ
            ▼
      アプリのメモリ
            │  解答結果
            ▼
   IndexedDB / localStorage
            │  成績画面で読む
            ▼
      ユーザーに表示
```

## 7. 画面とパーツ
| 画面 | 何が見える？ | 主なコンポーネント例 |
| --- | --- | --- |
| Home | 今日の目標、学習ボタン、オフライン通知 | `QuickStartCard`, `DailyGoalMeter`, `OfflineBanner` |
| Study | タグ・セクション選択、単語一覧 | `TagSelector`, `SectionGrid`, `WordList` |
| Test | 問題文、４択、進行度バー、フィードバック | `WordCard`, `ChoiceList`, `ProgressIndicator`, `ResultToast` |
| Results | 累計スコア、最近の成績グラフ、苦手リスト | `ScoreBadge`, `TrendChart`, `WeakWordPanel` |
| History | カレンダー、日ごとの解答数 | `StudyCalendar`, `DailyReportCard` |
| Settings | テーマ、通知ON/OFF、データの初期化 | `ToggleRow`, `ThemePreview`, `DataExportButton` |

アニメーションはフレーマーモーションを軽めに使い、動きすぎないよう調整する。

## 8. テストのうごき
1. JSONから候補単語を集める（タグやセクションでフィルタ）
2. まだ正解率が低い単語を少し優先（復習がしやすいように）
3. 正解以外はランダムに似た難度の単語を混ぜて４択を作る
4. 解答後すぐに色とアニメーションでフィードバック
5. 結果は即保存 → オフラインでもズレなし

## 9. PWAでできること
- Home画面に追加してアプリのように起動
- 初回アクセス時に必要ファイルと単語JSONをキャッシュ
- オフラインでもテスト＆結果表示がフルで動く
- 新しいJSONがあれば「更新ボタン」で再読み込みを案内

```
オンライン
   ├─ JSONを更新 → キャッシュを書き換え
   └─ 結果はすぐ保存

オフライン
   ├─ そのままテスト続行
   └─ 成績は端末にキープ → 次にオンラインで同期（予定）
```

## 10. 作る順番（ロードマップ）
1. 単語JSON読み込み・IndexedDB保存のしくみを用意
2. PWAの土台（Service Worker、manifest）を設定
3. 四択テスト画面と出題ロジックを完成
4. 成績画面と学習日数カウンターを実装
5. 苦手単語リストと復習導線を追加
6. ポイントシステムのルール決め＆UI追加
7. 全体のUI調整、アクセシビリティ、小テスト（Vitest / Playwright）

## 11. これからのアイデア
- 部活感覚で友達とスコアを比べるランキング
- Webプッシュ通知で「今日の10問」をお知らせ
- リスニング問題やスペル入力モードの追加
- 先生向けにクラス全体の進捗を見られるダッシュボード

このメモを見れば、中学生でもアプリの仕組みと作り方の流れがイメージしやすい構成になっている。
